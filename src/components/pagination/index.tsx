<nav class="pagination" aria-label="Pagination navigation">
      <ul class="pagination__list" role="list">
        <li class="pagination__item">
          <a href="#2" aria-label="Previous" class="pagination__link pagination__link--arrow">
            <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 11L2 6L7 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </a>
        </li>
        <li class="pagination__item">
          <a href="#1" aria-label="Page 1" class="pagination__link">
            1
          </a>
        </li>
        <li class="pagination__item pagination__gap pagination__item--mobile-only">
          <span class="pagination__link--gap" aria-hidden="true">…</span>
        </li>
        <li class="pagination__item">
          <a href="#4" aria-current="page" aria-label="Page 4" class="pagination__link pagination__link--current">4</a>
        </li>
        <li class="pagination__item">
          <a href="#5" aria-label="Page 5" class="pagination__link">
            5
          </a>
        </li>
        <li class="pagination__item">
          <a href="#6" aria-label="Page 6" class="pagination__link">
            6
          </a>
        </li>
        <li class="pagination__item pagination__gap pagination__item--mobile-only">
          <span class="pagination__link--gap" aria-hidden="true">…</span>
        </li>
        <li class="pagination__item">
          <a href="#10" aria-label="Page 10" class="pagination__link">
            10
          </a>
        </li>
        <li class="pagination__item">
          <a href="#0" aria-label="Next" class="pagination__link pagination__link--arrow">
            <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 1L6 6L1 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </a>
        </li>
      </ul>
    </nav>
<a
      aria-label="Follow Jhey"
      class="bear-link"
      href="https://twitter.com/intent/follow?screen_name=jh3yy"
      target="_blank"
      rel="noreferrer noopener"
    >
      <svg
        class="w-9"
        viewBox="0 0 969 955"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle
          cx="161.191"
          cy="320.191"
          r="133.191"
          stroke="currentColor"
          stroke-width="20"
        ></circle>
        <circle
          cx="806.809"
          cy="320.191"
          r="133.191"
          stroke="currentColor"
          stroke-width="20"
        ></circle>
        <circle
          cx="695.019"
          cy="587.733"
          r="31.4016"
          fill="currentColor"
        ></circle>
        <circle
          cx="272.981"
          cy="587.733"
          r="31.4016"
          fill="currentColor"
        ></circle>
        <path
          d="M564.388 712.083C564.388 743.994 526.035 779.911 483.372 779.911C440.709 779.911 402.356 743.994 402.356 712.083C402.356 680.173 440.709 664.353 483.372 664.353C526.035 664.353 564.388 680.173 564.388 712.083Z"
          fill="currentColor"
        ></path>
        <rect
          x="310.42"
          y="448.31"
          width="343.468"
          height="51.4986"
          fill="#FF1E1E"
        ></rect>
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M745.643 288.24C815.368 344.185 854.539 432.623 854.539 511.741H614.938V454.652C614.938 433.113 597.477 415.652 575.938 415.652H388.37C366.831 415.652 349.37 433.113 349.37 454.652V511.741L110.949 511.741C110.949 432.623 150.12 344.185 219.845 288.24C289.57 232.295 384.138 200.865 482.744 200.865C581.35 200.865 675.918 232.295 745.643 288.24Z"
          fill="currentColor"
        ></path>
      </svg>
    </a>
    <a
      aria-label="Follow Jhey"
      class="bear-link"
      href="https://twitter.com/intent/follow?screen_name=jh3yy"
      target="_blank"
      rel="noreferrer noopener"
    >
      <svg
        class="w-9"
        viewBox="0 0 969 955"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle
          cx="161.191"
          cy="320.191"
          r="133.191"
          stroke="currentColor"
          stroke-width="20"
        ></circle>
        <circle
          cx="806.809"
          cy="320.191"
          r="133.191"
          stroke="currentColor"
          stroke-width="20"
        ></circle>
        <circle
          cx="695.019"
          cy="587.733"
          r="31.4016"
          fill="currentColor"
        ></circle>
        <circle
          cx="272.981"
          cy="587.733"
          r="31.4016"
          fill="currentColor"
        ></circle>
        <path
          d="M564.388 712.083C564.388 743.994 526.035 779.911 483.372 779.911C440.709 779.911 402.356 743.994 402.356 712.083C402.356 680.173 440.709 664.353 483.372 664.353C526.035 664.353 564.388 680.173 564.388 712.083Z"
          fill="currentColor"
        ></path>
        <rect
          x="310.42"
          y="448.31"
          width="343.468"
          height="51.4986"
          fill="#FF1E1E"
        ></rect>
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M745.643 288.24C815.368 344.185 854.539 432.623 854.539 511.741H614.938V454.652C614.938 433.113 597.477 415.652 575.938 415.652H388.37C366.831 415.652 349.37 433.113 349.37 454.652V511.741L110.949 511.741C110.949 432.623 150.12 344.185 219.845 288.24C289.57 232.295 384.138 200.865 482.744 200.865C581.35 200.865 675.918 232.295 745.643 288.24Z"
          fill="currentColor"
        ></path>
      </svg>
    </a>


@import url('https://unpkg.com/normalize.css') layer(normalize);

@layer normalize, base, prototype, bridge;

@layer bridge {
  @supports (anchor-name: --pagination) {
      /* gap bridging... */
    [data-bridge=true][data-debug=true] {
      li:has(+ li.pagination__gap) a::after,
      li.pagination__gap + li a::after {
        opacity: 1;
      }  
    }
    [data-bridge=true] {
      li:has(+ li.pagination__gap) a::after,
      li.pagination__gap + li a::after {
        position: absolute;
        content: '';
        opacity: 0;    
        border: 1px solid currentColor;
        background: repeating-linear-gradient(45deg, color-mix(in hsl, currentColor, #0000) 0 1px, #0000 1px 5px);
      }
      li:has(+ li.pagination__gap) a::after {
        inset: 0 -50% 0 100%;
        color: hsl(320 90% 75%);
      }
      li.pagination__gap + li a::after {
        color: hsl(220 90% 75%);
        inset: 0 100% 0 -50%;
      }
    }
  } 
}

@layer prototype {
  .pagination {
    --size: 36px;
    --inset: 2px;
    position: relative;

    .pagination__list {
      display: flex;
      list-style: none;
      align-items: center;
      padding: 0;
      margin: 0;

      li {
        width: var(--size);
        aspect-ratio: 1;
        display: grid;
        place-items: center;

        a {
          display: grid;
          place-items: center;
          color: inherit;
          text-decoration: none;
          width: 100%;
          height: 100%;
          user-select: none;
          position: relative;
          outline-color: canvasText;
          -webkit-tap-highlight-color: #0000;
          @media (prefers-reduced-motion: no-preference) {
            transition: color 0.2s ease-out, opacity 0.2s ease-out;
          }


          &[aria-current=page] {
            color: light-dark(#fff, #000);
          }
          
          &.pagination__link--disabled {
            opacity: 0.3;
            cursor: not-allowed;
            pointer-events: none;
          }
        }
      }
    }
  }
  @supports not (anchor-name: --active-page) {
    .pagination a.pagination__link:not(.pagination__link--arrow) {
      &::before, &::after {
        content: '';
        position: absolute;
        inset: var(--inset);
        border-radius: calc(var(--pagination-radius) * 1px);
        background: light-dark(color-mix(in srgb, canvasText 10%, canvas), color-mix(in srgb, canvasText 20%, canvas));
        z-index: -1;
        opacity: 0;
      }

      &[aria-current=page]::before {
        background: light-dark(#000, hsl(0, 0%, 80%));
      }

      &:hover:not([aria-current=page])::before,
      &[aria-current=page]::before {
        opacity: 1;
      }
      @media(prefers-reduced-motion: no-preference) {
        &::before {
          transition-property: background, opacity;
          transition-duration: 0.2s;
          transition-timing-function: ease-out;
        }
      }
    }
  }
  @supports (anchor-name: --active-page) {
    .pagination .pagination__list {
      &::before,
      &::after {
        content: '';
        z-index: -1;
        position: absolute;
        width: calc(var(--size) - (2 * var(--inset)));
        aspect-ratio: 1;
        pointer-events: none;
        opacity: 0;
        border-radius: calc(var(--pagination-radius) * 1px);
      }
      &::before {
        background: light-dark(color-mix(in srgb, canvasText 10%, canvas), color-mix(in srgb, canvasText 20%, canvas));
      }
      
      @media (hover: none) and (pointer: coarse) {
        &::before {
          content: unset;
        }
      }
      
      &::after {
        background: light-dark(#000, hsl(0, 0%, 80%));
      }

      &:is(:has(.pagination__link:hover), :has(:focus-visible)):not(:has(.pagination__link--arrow:is(:hover, :focus-visible))) {
        &::before {
          opacity: 1;
        }
      }
      &::before, &::after {
        @media (prefers-reduced-motion: no-preference) {
          transition: inset 0.2s ease-out;
        }
      }
      &::after {
        opacity: 1;
      }
    }
    .pagination__list {
      [aria-current="page"] {
        anchor-name: --pagination-active;
      }
      li:has([href]:not(.pagination__link--arrow):is(:hover, :focus-visible)) {
        anchor-name: --pagination-hover;
      }
      &::before,
      &::after {
        left: calc((anchor(left)) + var(--inset));
        translate: unset;
      }
      &::before {
        position-anchor: --pagination-hover;
      }
      &::after {
        position-anchor: --pagination-active;
      }
    }
  }
}

@layer base {
  :root {
    --font-size-min: 16;
    --font-size-max: 20;
    --font-ratio-min: 1.2;
    --font-ratio-max: 1.33;
    --font-width-min: 375;
    --font-width-max: 1500;
  }

  html {
    color-scheme: light dark;
  }

  [data-theme='light'] {
    color-scheme: light only;
  }

  [data-theme='dark'] {
    color-scheme: dark only;
  }

  :where(.fluid) {
    --fluid-min: calc(
      var(--font-size-min) * pow(var(--font-ratio-min), var(--font-level, 0))
    );
    --fluid-max: calc(
      var(--font-size-max) * pow(var(--font-ratio-max), var(--font-level, 0))
    );
    --fluid-preferred: calc(
      (var(--fluid-max) - var(--fluid-min)) /
        (var(--font-width-max) - var(--font-width-min))
    );
    --fluid-type: clamp(
      (var(--fluid-min) / 16) * 1rem,
      ((var(--fluid-min) / 16) * 1rem) -
        (((var(--fluid-preferred) * var(--font-width-min)) / 16) * 1rem) +
        (var(--fluid-preferred) * var(--variable-unit, 100vi)),
      (var(--fluid-max) / 16) * 1rem
    );
    font-size: var(--fluid-type);
  }

  *,
  *:after,
  *:before {
    box-sizing: border-box;
  }

  body {
    background: light-dark(#fff, #000);
    display: grid;
    place-items: center;
    min-height: 100vh;
    font-family: 'SF Pro Text', 'SF Pro Icons', 'AOS Icons', 'Helvetica Neue',
      Helvetica, Arial, sans-serif, system-ui;
  }

  body::before {
    --size: 45px;
    --line: color-mix(in hsl, canvasText, transparent 80%);
    content: '';
    height: 100vh;
    width: 100vw;
    position: fixed;
    background: linear-gradient(
          90deg,
          var(--line) 1px,
          transparent 1px var(--size)
        )
        calc(var(--size) * 0.36) 50% / var(--size) var(--size),
      linear-gradient(var(--line) 1px, transparent 1px var(--size)) 0%
        calc(var(--size) * 0.32) / var(--size) var(--size);
    mask: linear-gradient(-20deg, transparent 50%, white);
    top: 0;
    transform-style: flat;
    pointer-events: none;
    z-index: -1;
  }

  .bear-link {
    color: canvasText;
    position: fixed;
    top: 1rem;
    left: 1rem;
    width: 48px;
    aspect-ratio: 1;
    display: grid;
    place-items: center;
    opacity: 0.8;
  }

  :where(.x-link, .bear-link):is(:hover, :focus-visible) {
    opacity: 1;
  }

  .bear-link svg {
    width: 75%;
  }

  /* Utilities */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}

div.tp-dfwv {
  width: 280px;
  position: fixed;
}


div.tp-dfwv {
  width: 256px;
  z-index: 999999;
  position: fixed;
}

import { Pane } from 'https://cdn.skypack.dev/tweakpane@4.0.4';
import { gsap } from 'https://cdn.skypack.dev/gsap@3.13.0';
import Draggable from 'https://cdn.skypack.dev/gsap@3.13.0/Draggable';
gsap.registerPlugin(Draggable);

const config = {
  theme: 'system',
  radius: 4,
  bridge: true,
  debug: false,
};

const ctrl = new Pane({
  title: 'config',
});
ctrl.addBinding(config, 'bridge')
const debugCtrl = ctrl.addBinding(config, 'debug', {
  disabled: !config.bridge
})
ctrl.addBinding(config, 'radius', {
  label: 'radius',
  min: 0,
  max: 30,
  step: 1,
});

ctrl.addBinding(config, 'theme', {
  label: 'theme',
  options: {
    system: 'system',
    light: 'light',
    dark: 'dark'
  }
})

const update = () => {
  document.documentElement.dataset.theme = config.theme
  document.documentElement.dataset.bridge = config.bridge
  document.documentElement.dataset.debug = config.debug
  debugCtrl.disabled = !config.bridge
  document.documentElement.style.setProperty('--pagination-radius', config.radius);
}

const sync = (event) => {
  if (
    !document.startViewTransition ||
    event.target.controller.view.labelElement.innerText !== 'theme'
  )
    return update()
  document.startViewTransition(() => update())
}

ctrl.on('change', sync)

// tell styles if config is raw
const isRaw = new URLSearchParams(window.location.search).get('raw') === 'true';
if (isRaw) document.documentElement.dataset.raw = 'true'

// Draggable controls
const tweakClass = 'div.tp-dfwv'
const d = Draggable.create(tweakClass, {
  type: 'x,y',
  allowEventDefault: true,
  trigger: tweakClass + ' button.tp-rotv_b',
})
document.querySelector(tweakClass).addEventListener('dblclick', () => {
  gsap.to(tweakClass, {
    x: `+=${d[0].x * -1}`,
    y: `+=${d[0].y * -1}`,
    onComplete: () => {
      gsap.set(tweakClass, { clearProps: 'all' })
    },
  })
})
update()

// Pagination logic
const pagination = document.querySelector('.pagination');
const paginationLinks = Array.from(pagination.querySelectorAll('.pagination__link:not(.pagination__link--arrow):not(.pagination__link--gap)'));
const prevButton = pagination.querySelector('.pagination__link--arrow[aria-label="Previous"]');
const nextButton = pagination.querySelector('.pagination__link--arrow[aria-label="Next"]');

// Function to update arrow states
const updateArrowStates = () => {
  const currentPageIndex = Array.from(paginationLinks).findIndex(link => 
    link.getAttribute('aria-current') === 'page'
  );
  
  // Disable previous button if on first page
  if (currentPageIndex === 0) {
    prevButton.setAttribute('aria-disabled', 'true');
    prevButton.classList.add('pagination__link--disabled');
    prevButton.removeAttribute('href');
  } else {
    prevButton.removeAttribute('aria-disabled');
    prevButton.classList.remove('pagination__link--disabled');
    // Set href to previous page
    const prevPageHref = paginationLinks[currentPageIndex - 1].getAttribute('href');
    prevButton.setAttribute('href', prevPageHref);
  }
  
  // Disable next button if on last page
  if (currentPageIndex === paginationLinks.length - 1) {
    nextButton.setAttribute('aria-disabled', 'true');
    nextButton.classList.add('pagination__link--disabled');
    nextButton.removeAttribute('href');
  } else {
    nextButton.removeAttribute('aria-disabled');
    nextButton.classList.remove('pagination__link--disabled');
    // Set href to next page
    const nextPageHref = paginationLinks[currentPageIndex + 1].getAttribute('href');
    nextButton.setAttribute('href', nextPageHref);
  }
};
// Function to set current page
const setCurrentPage = (targetLink) => {
  // Remove aria-current and current class from all links
  paginationLinks.forEach(link => {
    link.removeAttribute('aria-current');
    link.classList.remove('pagination__link--current');
  });
  
  // Add aria-current="page" and current class to target link
  targetLink.setAttribute('aria-current', 'page');
  targetLink.classList.add('pagination__link--current');
  const targetRect = targetLink.getBoundingClientRect();
  const parentRect = pagination.getBoundingClientRect();
  const offset = {
    x: targetRect.left - parentRect.left,
    y: targetRect.top - parentRect.top
  };
  pagination.style.setProperty('--pagination-active-x', offset.x)
  pagination.style.setProperty('--pagination-active-y', offset.y)
  pagination.style.setProperty('--pagination-active-width', targetRect.width)
  pagination.style.setProperty('--pagination-active-height', targetRect.height)
  // Update arrow states
  updateArrowStates();
};
const currentPage = Array.from(paginationLinks).find(link => 
  link.getAttribute('aria-current') === 'page'
);
setCurrentPage(currentPage);
// you want to enable the transitions in the next frame
requestAnimationFrame(() => {
  pagination.dataset.ready = true
})
const handlePaginationClick = (event) => {
  // event.preventDefault();
  setCurrentPage(event.currentTarget);
};

// Handle arrow navigation
const handleArrowClick = (event) => {
  const isDisabled = event.currentTarget.getAttribute('aria-disabled') === 'true';
  if (isDisabled) {
    event.preventDefault();
    return;
  }
  
  const currentPageIndex = Array.from(paginationLinks).findIndex(link => 
    link.getAttribute('aria-current') === 'page'
  );
  
  if (event.currentTarget === prevButton && currentPageIndex > 0) {
    event.preventDefault();
    setCurrentPage(paginationLinks[currentPageIndex - 1]);
    paginationLinks[currentPageIndex - 1].focus();
  } else if (event.currentTarget === nextButton && currentPageIndex < paginationLinks.length - 1) {
    event.preventDefault();
    setCurrentPage(paginationLinks[currentPageIndex + 1]);
    paginationLinks[currentPageIndex + 1].focus();
  }
};

// Add click event listeners to pagination links
paginationLinks.forEach(link => {
  link.addEventListener('click', handlePaginationClick);
});

// Add click event listeners to arrow buttons
prevButton.addEventListener('click', handleArrowClick);
nextButton.addEventListener('click', handleArrowClick);

// Initialize arrow states
updateArrowStates();