import{j as e}from"./jsx-runtime-zxgG-dDK.js";import{a1 as f,ai as y,al as j,aj as z,am as v,D as L}from"./three.module-DvzGzcnq.js";import{G as N}from"./GLTFLoader-CCrmX5Br.js";import{u as P}from"./use-mount-B3fr11c1.js";import{a as _}from"./index-Bd8USO0J.js";const S="_main_1fcph_1",$="_page_1fcph_11",E="_section_1fcph_15",A="_blob_1fcph_34",F="_blob1_1fcph_53",H="_blob2_1fcph_62",M="_blob3_1fcph_71",o={main:S,page:$,section:E,"blob-container":"_blob-container_1fcph_34",blob:A,blob1:F,blob2:H,blob3:M},g=()=>(P(()=>{const r=new f(15,window.innerWidth/window.innerHeight,.1,1e3);r.position.z=13;const a=new y;let i,c;new N().load("https://vakhula.github.io/playground/experiments/butterfly/animated_butterfly.glb",function(t){i=t.scene,a.add(i),c=new j(i),c.clipAction(t.animations[0]).play(),h()},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.error("Error loading model:",t)});const d=new z({alpha:!0});d.setSize(window.innerWidth,window.innerHeight);const l=document.getElementById("container3D");l&&l.appendChild(d.domElement);const w=new v(16777215,3);a.add(w);const m=new L(16777215,1);m.position.set(500,500,500),a.add(m);const p=()=>{requestAnimationFrame(p),d.render(a,r),c&&c.update(.01)};p();const b=[{id:"section1",position:{x:0,y:0,z:-5},rotation:{x:-.5,y:-.5,z:0}},{id:"section2",position:{x:2,y:-1,z:0},rotation:{x:-.5,y:.5,z:.5}},{id:"section3",position:{x:1,y:0,z:-5},rotation:{x:1,y:-3,z:0}},{id:"section4",position:{x:-2,y:0,z:-5},rotation:{x:-.3,y:0,z:0}}],h=()=>{const t=document.querySelectorAll(".section");let u=t[0].id;t.forEach(n=>{n.getBoundingClientRect().top<=window.innerHeight-100&&(u=n.id)});const x=b.findIndex(n=>n.id==u);if(x>=0){const n=b[x];_(i.position,{x:n.position.x,y:n.position.y,z:n.position.z},{duration:3,ease:"easeOut"}),_(i.rotation,{x:n.rotation.x,y:n.rotation.y,z:n.rotation.z},{duration:3,ease:"easeOut"})}};document.querySelector("main")?.addEventListener("scroll",()=>{i&&h()}),window.addEventListener("resize",()=>{d.setSize(window.innerWidth,window.innerHeight),r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix()})}),e.jsxs("main",{className:o.main,children:[e.jsxs("div",{id:"container3D",className:o["blob-container"],children:[e.jsx("div",{className:`${o.blob} ${o.blob1}`}),e.jsx("div",{className:`${o.blob} ${o.blob2}`}),e.jsx("div",{className:`${o.blob} ${o.blob3}`})]}),e.jsxs("div",{className:o.page,children:[e.jsx("section",{id:"section1",className:`section ${o.section}`,children:e.jsxs("p",{children:["Unleash Your Creativity.",e.jsx("br",{}),"Code Your Vision."]})}),e.jsx("section",{id:"section2",className:`section ${o.section}`,children:e.jsxs("p",{children:["Tiny Project.",e.jsx("br",{}),"Huge Potential."]})}),e.jsx("section",{id:"section3",className:`section ${o.section}`,children:e.jsxs("p",{children:["Fail Fast.",e.jsx("br",{}),"Learn Faster.",e.jsx("br",{}),"Build Better."]})}),e.jsx("section",{id:"section4",className:`section ${o.section}`,children:e.jsxs("p",{children:["From Zero to Awesome:",e.jsx("br",{}),"One Line at a Time."]})})]})]}));g.__docgenInfo={description:"",methods:[],displayName:"Page"};const O={title:"Experiments/butterfly",component:g,parameters:{layout:"centered"},tags:["!autodocs"],argTypes:{children:{control:"text"}},args:{}},s={args:{children:"children"}};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:`{
  args: {
    children: 'children'
  }
}`,...s.parameters?.docs?.source}}};const C=["Preview"],G=Object.freeze(Object.defineProperty({__proto__:null,Preview:s,__namedExportsOrder:C,default:O},Symbol.toStringTag,{value:"Module"}));export{G as I};
